<!-- 문제 설명
세종대 맛집 목록을 보여주고,
각 카드에 ‘추천하기’ 버튼을 눌렀을 때 해당 맛집의 추천수가 올라가는 기능.
추천수가 높을수록 카드 배경 색이 점점 진해지도록 스타일 바인딩.
추천수 10회 이상이면 “:불: 인기 급상승!” 배지 출력.
:흰색_확인_표시: :클립보드: 요구사항
restaurants 배열에는 name, reviews, vote 속성이 들어간다.
카드에는
맛집 이름
평균 평점
현재 추천 수 (vote)
추천 버튼
추천 버튼 클릭 시 vote 값이 1 증가한다.
추천 수에 따라 카드 배경색이 달라진다:
0~4: 연한 회색
5~9: 연한 주황
10 이상: 진한 주황
추천 수 10 이상이면 “:불: 인기 급상승!” 배지 표시.
모든 색상 및 효과는 :style 바인딩으로 처리한다.
Bootstrap & FontAwesome 사용. -->

<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vue.js Framework</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css"
      integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <style>
      li {
        list-style: none;
      }
      .default-border {
        border: 1px solid gray;
      }
    </style>
  </head>
  <body>
    <div id="app" class="container">
      <h2>세종대 맛집 즐겨찾기 기능 🥄</h2>
      <ul class="row">
        <li class="col-md-4 p-2" v-for="(restaurant, idx) in restaurants">
          <div
            class="rounded p-4 default-border"
            :style="{backgroundColor: likeStyle(idx)}"
          >
            <h4>{{restaurant.name}}</h4>

            <p>
              <i class="fa-solid fa-star text-warning"></i> 평균 평점 :
              {{getAverageScore(restaurant.reviews)}}
            </p>
            <p>
              <i class="fa-solid fa-thumbs-up text-primary"></i> 추천 수 : {{
              restaurant.vote }}
            </p>
            <button
              class="btn w-100 btn-outline-primary pointer"
              @click="onClickLikes(idx)"
            >
              <i class="fa-solid fa-thumbs-up"></i>
              추천하기
            </button>
            <span
              v-if="restaurant.vote >= 10"
              class="badge badge-pill bg-danger w-100 p-2 mt-2"
              >🔥인기 급상승!</span
            >
          </div>
        </li>
      </ul>
    </div>

    <script src="https://unpkg.com/vue"></script>
    <script>
      let vm = Vue.createApp({
        name: 'App',
        data() {
          return {
            restaurants: [
              { name: '빠오즈푸', reviews: [4.7, 4.8, 4.6], vote: 0 },
              { name: '시홍쓰', reviews: [4.2, 4.0, 4.1], vote: 0 },
              {
                name: '오사이초밥',
                reviews: [3.7, 3.6, 3.8, 3.3],
                vote: 0,
              },
              {
                name: '은혜즉석떡볶이',
                reviews: [4.5, 2, 1],
                vote: 0,
              },
              {
                name: '우화등선',
                reviews: [3.2, 3.4, 3.1, 2.6, 4],
                vote: 0,
              },
              { name: '세종원', reviews: [3.9, 4.0, 3.8], vote: 0 },
            ],
          };
        },
        methods: {
          getAverageScore(reviews) {
            const sum = reviews.reduce((acc, cur) => acc + cur, 0);
            return (sum / reviews.length).toFixed(2);
          },
          onClickLikes(idx) {
            this.restaurants[idx].vote += 1;
            // if (this.restaurants[idx].vote >= 10) {
            //   this.restaurants[idx].name += ' :��: 인기 ��상��!';
            // }
          },
          likeStyle(idx) {
            if (this.restaurants[idx].vote <= 4) {
              return 'lightgray';
            } else if (this.restaurants[idx].vote <= 9) {
              return 'lightyellow';
            } else {
              return 'orange';
            }
          },
        },
      }).mount('#app');
    </script>
  </body>
</html>
