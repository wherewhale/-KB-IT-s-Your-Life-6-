<!-- slotìœ¼ë¡œ ì „ë‹¬ëœ ë©˜íŠ¸ëŠ” ì—°í•œ íšŒìƒ‰ ì¹´ë“œ ìŠ¤íƒ€ì¼ë¡œ í‘œì‹œí•˜ê³ , ì¹´ë“œ ìŠ¤íƒ€ì¼ì€ ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤:
ë°°ê²½ìƒ‰: #F1F2F6
í…Œë‘ë¦¬: 1px solid #DFE4EA
ë‘¥ê·¼ ëª¨ì„œë¦¬, padding 14px, ìµœëŒ€ ë„ˆë¹„ 400px
:í°ìƒ‰_í™•ì¸_í‘œì‹œ: êµ¬í˜„ ê²°ê³¼ í™”ë©´ ì˜ˆì‹œ
   ìš”ì†Œ ê¸°ëŠ¥     ë²„íŠ¼ í´ë¦­ ì‹œ ì½˜ì†”ì— ë©”ì‹œì§€ ì¶œë ¥ + í™”ë©´ì— í´ë¦­ íšŸìˆ˜ í‘œì‹œ   í´ë¦­ íšŸìˆ˜ í‘œì‹œ ë²„íŠ¼ì„ ëˆ„ë¥¸ íšŸìˆ˜: níšŒ ë¡œ ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸   slot ì¹´ë“œ ë°•ìŠ¤ ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸ì—ì„œ ì „ë‹¬í•œ ì‘ì› ë©˜íŠ¸ í‘œì‹œ, ì¹´ë“œ ìŠ¤íƒ€ì¼ ì ìš©
:í°ìƒ‰_í™•ì¸_í‘œì‹œ: ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸(App.vue) ìš”êµ¬ì‚¬í•­
LineReadyButton ì»´í¬ë„ŒíŠ¸ë¥¼ ê°€ì ¸ì™€ ì‚¬ìš©í•˜ì„¸ìš”.
@ready ì´ë²¤íŠ¸ë¥¼ ë°›ì•„ ì½˜ì†”ì— ë©”ì‹œì§€ë¥¼ ì¶œë ¥í•˜ë„ë¡ handleReady ë©”ì„œë“œë¥¼ ì‘ì„±í•˜ì„¸ìš”.
slotìœ¼ë¡œ "ì˜¤ëŠ˜ë„ ë„Œ ë©‹ì§ˆ ê±°ì•¼! :ë§ˆì´í¬: ìì‹  ìˆê²Œ ë¬´ëŒ€ì— ì˜¬ë¼ê°€!" ì™€ ê°™ì€ ì‘ì› ë©˜íŠ¸ë¥¼ ì „ë‹¬í•˜ì„¸ìš”. -->

<style>
body {
  background: linear-gradient(135deg, #f1f2f6, #dfe4ea);
}
.container {
  max-width: 800px;
  margin: 0 auto;
  text-align: center;
}
.slotCard {
  background-color: #f1f2f6;
  border: 1px solid #dfe4ea;
  border-radius: 12px;
  padding: 14px;
  max-width: 400px;
}
.tipCard {
  padding: 10px;
  background-color: #d9f6f9;
  border-radius: 12px;
  display: flex;
  justify-content: center;
}
.warningText {
  color: #888;
  font-size: 18px;
  margin-top: 10px;
}
.quizButton {
  background-color: orange;
  color: white;
  border-radius: 12px;
  cursor: pointer;
  padding: 10px 20px;
  font-size: large;
  border: 0;
  margin-top: 20px;
}
.feedbackBox {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  padding: 0 12px;
  border: 1px solid #dfe4ea;
  border-radius: 12px;
  background-color: white;
}
.buttonDelete {
  background-color: #ff4757;
  color: white;
}
</style>

<template>
  <div class="container">
    <h1>Improv-Acting-Lab ğŸ­</h1>
    <ButtonBar
      :buttonList="buttonList"
      :active="activeId"
      @button-clicked="handleActive"
    ></ButtonBar>
    <!-- <LineReadyButton @ready="handleReady">
      <div class="slotCard">ê°€ì„œ ì°¢ì–´ë²„ë ¤. Siuuuuuu~</div>
    </LineReadyButton> -->
    <LineCard v-if="activeId === '1'">
      <template v-slot:tip>
        <div class="tipCard">ğŸ¯ ì—°ê¸° íŒ: ëŒ€ì‚¬ë¥¼ ìˆ¨ì‰¬ë“¯ì´ ë‚´ë±‰ìœ¼ì„¸ìš”!</div>
      </template>
      <template v-slot:length="length">
        <p class="warningText" v-if="length.length >= 40">
          ëŒ€ì‚¬ê°€ ê¸¸ì–´ìš”! ì²œì²œíˆ ì—°ê¸°í•´ë³´ì„¸ìš”!
        </p>
      </template>
    </LineCard>
    <!-- <button class="quizButton" @click="handleQuizReady">
      ğŸ“ í€´ì¦ˆ ì‹œì‘í•˜ê¸°
    </button> -->
    <QuizCard v-if="activeId === '2'">
      <template #title>
        <h2>ğŸ“ ì¦‰í¥ ëŒ€ì‚¬ ì¶œì²˜ í€´ì¦ˆ</h2>
        <h3>Q. ì´ ëŒ€ì‚¬ëŠ” ì–´ë””ì—ì„œ ë‚˜ì˜¨ ê±¸ê¹Œìš”?</h3>
      </template>
      <template #hint>
        <p>íŒíŠ¸: ëª¨ë‘ ìœ ëª… ë“œë¼ë§ˆ ì† ëŒ€ì‚¬ì—ìš”!</p>
      </template>
      <template #correct>
        <p>ì •ë‹µì…ë‹ˆë‹¤! ğŸ‰</p>
      </template>
      <template #wrong></template>
    </QuizCard>

    <!-- TODO: v-model, event ìˆ˜ì‹ í•´ì„œ ê°’ì„ ë°”ê¾¸ëŠ” í˜•ì‹ìœ¼ë¡œ ìˆ˜ì •í•´ì•¼ í•¨ -->
    <FeedbackForm
      v-if="activeId === '3'"
      v-model:feedbackText="feedbackText"
      @add-feedback="addFeedback"
    >
      <div
        class="feedbackBox"
        v-for="(feedback, idx) in feedbackList"
        :key="feedback[0] + idx"
      >
        <p>
          {{ feedback }}
        </p>
        <button class="buttonDelete" @click="deleteFeedback(idx)">ì‚­ì œ</button>
      </div>
    </FeedbackForm>
  </div>
</template>

<script>
// import LineReadyButton from './components/LineReadyButton.vue';
import LineCard from './components/LineCard.vue';
import QuizCard from './components/QuizCard.vue';
import ButtonBar from './components/ButtonBar.vue';
import FeedbackForm from './components/FeedbackForm.vue';

export default {
  name: 'App',
  components: {
    // LineReadyButton,
    LineCard,
    QuizCard,
    ButtonBar,
    FeedbackForm,
  },

  provide() {
    return {
      lines: [
        {
          line: 'ì¡°ê¸ˆì€ ì¹œì ˆí•´ë„ ë˜ì–ì•„. ë‹¤ë“¤ ë‹ˆë“¤ì²˜ëŸ¼ ìµìˆ™í•œ ê²Œ ì•„ë‹ˆë‹ˆê¹Œ.',
          source: 'ì²­ì¶˜ì‹œëŒ€',
          imgSrc: 'https://fs.jtbc.co.kr/prog/img/mig/TITLE/PR10010422.jpg',
        },
        {
          line: 'ë„ˆì™€ í•¨ê»˜í•œ ì‹œê°„ ëª¨ë‘ ëˆˆë¶€ì…¨ë‹¤. ë‚ ì´ ì¢‹ì•„ì„œ ë‚ ì´ ì¢‹ì§€ ì•Šì•„ì„œ ë‚ ì´ ì ë‹¹í•´ì„œ ëª¨ë“  ë‚ ì´ ì¢‹ì•˜ë‹¤.',
          source: 'ë„ê¹¨ë¹„',
          imgSrc:
            'https://www.chosun.com/resizer/v2/QXJOA4UE56AN5ZEOSZ7HGB5DWY.jpg?auth=eb54c39137830bf544cb83b0b1d0ba3c018d5fba479033ba5ddf7df9200269d4&width=464',
        },
        {
          line: 'ë‹¹ì‹ ì´ ì¢‹ì€ ì´ìœ ? ê·¸ì € ê·¸ ì‚¬ëŒì´ë¼ì„œ. ë°”ë¡œ ë„ˆë¼ì„œ.',
          source: 'ì‘ë‹µí•˜ë¼ 1997',
          imgSrc:
            'https://m.media-amazon.com/images/S/pv-target-images/fb5c286fa49dd8ca05c79b8ffb3c47cf5cde0b3cbb8bb8da13ac903ab457725a.jpg',
        },
        {
          line: 'ìŠì§€ ë§ì. ë‚˜ëŠ” ì–´ë¨¸ë‹ˆì˜ ìë¶€ì‹¬ì´ë‹¤. ëª¨ìë¼ê³  ë¶€ì¡±í•œ ìì‹ì´ ì•„ë‹ˆë‹¤.',
          source: 'ë¯¸ìƒ',
          imgSrc:
            'https://cdn.lecturernews.com/news/photo/202111/81282_287409_3646.png',
        },
      ],
      feedbackGuideMessage: 'ğŸ“¢ í”¼ë“œë°±ì€ ì†”ì§í•˜ê²Œ ì‘ì„±í•´ì£¼ì„¸ìš”!',
    };
  },
  data() {
    return {
      isReady: false,
      isQuiz: false,
      activeId: null,
      buttonList: [
        { id: '1', defaultLabel: 'ğŸ² ëœë¤ ëŒ€ì‚¬ ë½‘ê¸°' },
        { id: '2', defaultLabel: 'ğŸ“ í€´ì¦ˆ ì‹œì‘' },
        { id: '3', defaultLabel: 'ğŸ’¬ í”¼ë“œë°± ì‘ì„±' },
      ],
      feedbackList: [
        'ë„ˆë¬´ ì˜í–ˆì–´ìš”!',
        'ì¡°ê¸ˆ ë” ìì‹ ê°ì„ ê°€ì ¸ë³´ì„¸ìš”!',
        'ëŒ€ì‚¬ê°€ ê¸¸ì–´ìš”! ì²œì²œíˆ ì—°ê¸°í•´ë³´ì„¸ìš”!',
      ],
      feedbackText: '',
    };
  },
  methods: {
    handleReady(message) {
      this.isReady = true;
      console.log(message);
    },
    handleQuizReady() {
      this.isQuiz = true;
    },
    handleActive(buttonId) {
      if (this.activeId === buttonId) {
        this.activeId = null; // í´ë¦­í•œ ë²„íŠ¼ì´ ì´ë¯¸ í™œì„±í™”ëœ ê²½ìš° ë¹„í™œì„±í™”
      } else {
        this.activeId = buttonId;
      }
    },
    deleteFeedback(index) {
      console.log(index);
      this.feedbackList.splice(index, 1);
    },
    addFeedback() {
      if (this.feedbackText.trim().length > 2) {
        this.feedbackList.push(this.feedbackText);
        this.feedbackText = ''; // ì…ë ¥ í•„ë“œ ì´ˆê¸°í™”
      }
    },
  },
};
</script>
